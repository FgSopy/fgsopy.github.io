<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>联机数据存储站 | By FgSopy</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="/css/ODSS.css">
    <script type="text/javascript" src="/js/ODSS.js"></script>
</head>
<body>
    <header>
        <h1>联机数据存储站-PWET0235-By-FgSopy</h1>
        <p class="subtitle">online-data-storage_station_pwet0235_byfgsopy</p>
    </header>

    <div class="container">
        <!-- 数据管理区域 -->
        <div class="card">
            <h2><i>📝</i> 数据管理</h2>
            
            <div class="form-group">
                <label for="data-key">键名:</label>
                <input type="text" id="data-key" placeholder="输入键名">
            </div>
            
            <div class="form-group">
                <label for="data-value">值:</label>
                <textarea id="data-value" placeholder="输入值 (支持JSON格式)"></textarea>
            </div>
            
            <div class="actions">
                <button id="save-btn"><i>💾</i> 保存数据</button>
                <button id="load-btn" class="secondary"><i>🔍</i> 加载数据</button>
                <button id="delete-btn" class="danger"><i>🗑️</i> 删除数据</button>
            </div>
            
            <div class="data-list" id="data-list">
                <!-- 数据列表将通过JS动态生成 -->
            </div>
        </div>

        <!-- 同步管理区域 -->
        <div class="card">
            <h2><i>🔄</i> 同步管理</h2>
            
            <div class="form-group">
                <label for="github-token">GitHub Token:</label>
                <input type="password" id="github-token" placeholder="输入GitHub个人访问令牌">
            </div>
            
            <div class="form-group">
                <label for="gist-id">Gist ID:</label>
                <input type="text" id="gist-id" placeholder="输入Gist ID (可选)">
                <small>留空将自动创建新Gist</small>
            </div>
            
            <div class="actions">
                <button id="backup-btn" class="secondary"><i>☁️</i> 备份到Gist</button>
                <button id="restore-btn"><i>⏱️</i> 从Gist恢复</button>
                <button id="sync-now-btn"><i>🔄</i> 立即同步</button>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar"></div>
            </div>
            
            <div class="sync-info" id="sync-info">
                上次同步: <span id="last-sync">从未同步</span>
            </div>
            
            <div class="status online" id="sync-status">
                <i>✅</i> <span>本地存储已就绪</span>
            </div>
        </div>

        <!-- 设备管理区域 -->
        <div class="card">
            <h2><i>📱</i> 设备管理</h2>
            
            <div class="device-list" id="device-list">
                <div class="device-item">
                    <span class="device-status online"></span>
                    <div class="device-info">
                        <div class="device-name">当前设备</div>
                        <div class="device-meta" id="device-id">正在生成设备ID...</div>
                    </div>
                </div>
            </div>
            
            <div class="form-group" style="margin-top: 20px;">
                <label for="connect-device">连接其他设备:</label>
                <input type="text" id="connect-device" placeholder="输入设备ID">
            </div>
            
            <div class="actions">
                <button id="connect-btn"><i>🔗</i> 连接设备</button>
                <button id="disconnect-btn" class="danger"><i>🔌</i> 断开所有连接</button>
            </div>
        </div>

        <!-- 系统状态区域 -->
        <div class="card">
            <h2><i>📊</i> 系统状态</h2>
            
            <div class="status" id="storage-status">
                <i>✅</i> <span>IndexedDB: 已初始化</span>
            </div>
            
            <div class="status" id="gist-status">
                <i>❌</i> <span>GitHub Gist: 未连接</span>
            </div>
            
            <div class="status" id="p2p-status">
                <i>❌</i> <span>P2P连接: 未激活</span>
            </div>
            
            <div class="form-group" style="margin-top: 20px;">
                <label for="encryption-key">数据加密密钥 (可选):</label>
                <input type="password" id="encryption-key" placeholder="输入加密密钥">
                <small>设置密钥后所有数据将加密存储</small>
            </div>
            
            <div class="actions">
                <button id="clear-btn" class="danger"><i>🧹</i> 清除所有本地数据</button>
            </div>
        </div>
    </div>

    <div class="instructions">
        <h3>使用说明:</h3>
        <ol>
            <li><strong>本地存储</strong>：数据保存在IndexedDB中，设备重启后依然可用</li>
            <li><strong>GitHub Gist同步</strong>：输入GitHub个人访问令牌（需<code>gist</code>权限）进行云端备份</li>
            <li><strong>多设备同步</strong>：连接其他设备ID进行点对点实时同步</li>
            <li><strong>数据加密</strong>：可选设置加密密钥保护敏感数据</li>
            <li>GitHub Token创建地址：<a href="https://github.com/settings/tokens" target="_blank">https://github.com/settings/tokens</a></li>
        </ol>
    </div>
    
</body>
</html>
